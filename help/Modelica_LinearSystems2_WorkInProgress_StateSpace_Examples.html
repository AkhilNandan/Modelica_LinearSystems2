<HTML>
<HEAD>
<TITLE>Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples</TITLE>
<META name="HTML-Generator" content="Dymola">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Examples<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace.html#Modelica_LinearSystems2.WorkInProgress.StateSpace"
>Modelica_LinearSystems2.WorkInProgress.StateSpace</A>.Examples</H2>
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.StateSpace.Design.assignPolesMI2S.png" ALT="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designCraneController" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designCraneController"
>designCraneController</A>
</TD><TD>Design pole assignment and LQ controller for an overhead crane</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.StateSpace.Design.assignPolesMI2S.png" ALT="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designCraneControllerWithObserver" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designCraneControllerWithObserver"
>designCraneControllerWithObserver</A>
</TD><TD>Design pole assignment controller and observer for an overhead crane</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.StateSpace.Design.assignPolesMI2S.png" ALT="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designInverseDoublePendulumController" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designInverseDoublePendulumController"
>designInverseDoublePendulumController</A>
</TD><TD>Design pole assignment for an inverse double pedulum</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.StateSpace.Design.assignPolesMI2S.png" ALT="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designInverseDoublePendulumControllerWithObserver" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designInverseDoublePendulumControllerWithObserver"
>designInverseDoublePendulumControllerWithObserver</A>
</TD><TD>Design pole assignment for an inverse double pedulum</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.StateSpace.Design.assignPolesMI2S.png" ALT="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designInversePendulumController" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designInversePendulumController"
>designInversePendulumController</A>
</TD><TD>Design pole assignment for an inverse pedulum</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.StateSpace.Design.assignPolesMI2S.png" ALT="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designStateSpaceController" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designStateSpaceController"
>designStateSpaceController</A>
</TD><TD>Demonstration of controller design for a state space system</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.StateSpace.Design.assignPolesMI2S.png" ALT="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.analysis2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.analysis2"
>analysis2</A>
</TD><TD>Example to check controllability of a state space system</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.StateSpace.Design.assignPolesMI2S.png" ALT="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.plotBodeSISODiscrete" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.plotBodeSISODiscrete"
>plotBodeSISODiscrete</A>
</TD><TD>Plots the Bode diagram of continuous state space system and the corresponding discrete state space system and  with automatic determination of the frequency range to plot </TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE designCraneController<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designCraneController"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples"
>Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples</A>.designCraneController</H2>
<B>Design pole assignment and LQ controller for an overhead crane</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
This example demonstrates how to design a lq-controller or a pole placement controller respectively. Compared with example <b>craneController</b>,
the plant is smaller to achieve suitable dynamics for animation.
The feedback matrices and a simple pre filter for tracking are save to MATLAB files which can be used in
ModelicaController library.<br>
It is also shown how to linearize a model of a crane trolley system [1]. The linear model is used as a base for control design
 <p>
<A name="References"><B><FONT SIZE="+1">References</FONT></B></A>
<PRE>
  [1] Föllinger, O. "Regelungstechnik", Hüthig-Verlag
</PRE>
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>modelName</TD><TD>name of the model to linearize</TD></TR>
<TR><TD>pa[4]</TD><TD>assigned poles</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>K_lq[:, :]</TD><TD>feedback matrix LQ controller</TD></TR>
<TR><TD>K_pa[:, :]</TD><TD>feedback matrix pole assigment controller</TD></TR>
<TR><TD>M_lq[:, :]</TD><TD>pre filter LQ controller</TD></TR>
<TR><TD>M_pa[:, :]</TD><TD>pre filter pole assignment controller</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE designCraneControllerWithObserver<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designCraneControllerWithObserver"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples"
>Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples</A>.designCraneControllerWithObserver</H2>
<B>Design pole assignment controller and observer for an overhead crane</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
This example demonstrates how to use pole placement function assignPolesMI to design a pole placement controller and an observer also using assignPolesMI as well.
Function assignPoles is based on the Schur form of the state space matrix an also allows partial poles shifting [1].
<br>
An observer can be designed by applying assignPolesMI to the dual system (A', C', B').
<br>
The results, which are controller feedback matrix, observer feedback matrix, system model for usage in observer and a simple pre filter for tracking are saved to MATLAB files which can be used in ModelicaController library.<br>
It is also shown how to linearize a model of a crane trolley system [1]. The linear model is then used as a base for controller design.
<p>
 
<A name="References"><B><FONT SIZE="+1">References</FONT></B></A> <PRE>
  [1] Varga A., "A Schur method for pole assignment",
      IEEE Trans. Autom. Control, Vol. AC-26, pp. 517-519, 1981.
</PRE>
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>modelName</TD><TD>name of the model to linearize</TD></TR>
<TR><TD>pa[4]</TD><TD>assigned system poles</TD></TR>
<TR><TD>pob[4]</TD><TD>assigned observer poles</TD></TR>
<TR><TD>fileName</TD><TD>file name for results</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>K_ob[:, :]</TD><TD>feedback matrix pole assigment controller</TD></TR>
<TR><TD>K_pa[:, :]</TD><TD>feedback matrix pole assigment controller</TD></TR>
<TR><TD>M_pa[:, :]</TD><TD>pre filter LQ controller</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE designInverseDoublePendulumController<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designInverseDoublePendulumController"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples"
>Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples</A>.designInverseDoublePendulumController</H2>
<B>Design pole assignment for an inverse double pedulum</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
This example demonstrates how to design pole placement controller to balance an inverted double pendulum. For controller design a linearized model of a (simple) physical system model is used.
The controller is applied to the physical model in Moldelica_Controller library.
<br>
It is also shown how to linearize a modelica model. The linear model is used as a base for control design
 
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>modelName</TD><TD>name of the model to linearize</TD></TR>
<TR><TD>pa[6]</TD><TD>assigned poles</TD></TR>
<TR><TD>fileName</TD><TD>file name for results</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>K_pa[:, :]</TD><TD>feedback matrix pole assigment controller</TD></TR>
<TR><TD>M_pa[:, :]</TD><TD>pre filter LQ controller</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE designInverseDoublePendulumControllerWithObserver<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designInverseDoublePendulumControllerWithObserver"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples"
>Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples</A>.designInverseDoublePendulumControllerWithObserver</H2>
<B>Design pole assignment for an inverse double pedulum</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
This example demonstrates how to design pole placement controller to balance an inverted double pendulum. For controller design a linearized model of a (simple) physical system model is used.
The controller is applied to the physical model in Moldelica_Controller library.
<br>
It is also shown how to linearize a modelica model. The linear model is used as a base for control design
 
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>modelName</TD><TD>name of the model to linearize</TD></TR>
<TR><TD>pa[6]</TD><TD>assigned poles</TD></TR>
<TR><TD>pob[6]</TD><TD>assigned observer poles</TD></TR>
<TR><TD>fileName</TD><TD>file name for results</TD></TR>
<TR><TD>makeAnalysis</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>K_pa[:, :]</TD><TD>feedback matrix pole assigment controller</TD></TR>
<TR><TD>M_pa[:, :]</TD><TD>pre filter LQ controller</TD></TR>
<TR><TD>K_ob[:, :]</TD><TD>feedback matrix pole assigment controller</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE designInversePendulumController<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designInversePendulumController"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples"
>Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples</A>.designInversePendulumController</H2>
<B>Design pole assignment for an inverse pedulum</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
This example demonstrates how to design pole placement controller to balance an inverted pendulum. For controller design a linearized model of a (simple) physical system model is used.
The controller is applied to the physical model in Moldelica_Controller library.
<br>
It is also shown how to linearize a modelica model. The linear model is used as a base for control design
 
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>modelName</TD><TD>name of the model to linearize</TD></TR>
<TR><TD>pa[4]</TD><TD>assigned poles</TD></TR>
<TR><TD>fileName</TD><TD>file name for results</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>K_pa[:, :]</TD><TD>feedback matrix pole assigment controller</TD></TR>
<TR><TD>M_pa[:, :]</TD><TD>pre filter LQ controller</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE designStateSpaceController<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.designStateSpaceController"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples"
>Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples</A>.designStateSpaceController</H2>
<B>Demonstration of controller design for a state space system</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
This example demonstrates how to design a lq-controller or a pole placement controller respectively. Compared with example <b>craneController</b>,
the plant is smaller to achieve suitable dynamics for animation.
The feedback matrices and a simple pre filter for tracking are save to MATLAB files which can be used in
ModelicaController library.<br>
It is also shown how to linearize a model of a crane trolley system [1]. The linear model is used as a base for control design
 <p>
<A name="References"><B><FONT SIZE="+1">References</FONT></B></A>
<PRE>
  [1] Föllinger, O. "Regelungstechnik", Hüthig-Verlag
</PRE>
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>ss</TD><TD>&nbsp;</TD></TR>
<TR><TD>pa[:]</TD><TD>assigned poles</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>K_pa[:, :]</TD><TD>feedback matrix pole assigment controller</TD></TR>
<TR><TD>M_pa[:, :]</TD><TD>pre filter pole assignment controller</TD></TR>
<TR><TD>po[size(ss.A, 1)]</TD><TD>&nbsp;</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE analysis2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.analysis2"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples"
>Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples</A>.analysis2</H2>
<B>Example to check controllability of a state space system</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
This example shows the usage of <b>function Modelica_LinearSystems2.StateSpace.Analysis.isControllable</b> which is 
to check whether a system is controllable or not.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>ssi</TD><TD>&nbsp;</TD></TR>
<TR><TD>analyseOptions</TD><TD>&nbsp;</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=2>system data definition</TD></TR>
<TR><TD>systemOnFile</TD><TD>true, if state space system is defined on file</TD></TR>
<TR><TD>fileName</TD><TD>file where matrix [A, B; C, D] is stored</TD></TR>
<TR><TD>matrixName</TD><TD>Name of the state space system matrix</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>ok</TD><TD>&nbsp;</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE plotBodeSISODiscrete<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples.plotBodeSISODiscrete"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_StateSpace_Examples.html#Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples"
>Modelica_LinearSystems2.WorkInProgress.StateSpace.Examples</A>.plotBodeSISODiscrete</H2>
<B>Plots the Bode diagram of continuous state space system and the corresponding discrete state space system and  with automatic determination of the frequency range to plot </B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>systemOnFile</TD><TD>true, if state space system is defined on file</TD></TR>
<TR><TD>fileName</TD><TD>file where matrix [A, B; C, D] is stored</TD></TR>
<TR><TD>A[:, size(A, 1)]</TD><TD>&nbsp;</TD></TR>
<TR><TD>B[size(A, 2), :]</TD><TD>&nbsp;</TD></TR>
<TR><TD>C[:, size(A, 1)]</TD><TD>&nbsp;</TD></TR>
<TR><TD>D[size(C, 1), size(B, 2)]</TD><TD>&nbsp;</TD></TR>
<TR><TD>Ts</TD><TD>Sample time [s]</TD></TR>
<TR><TD>method</TD><TD>Discretization method</TD></TR>
<TR><TD>iu</TD><TD>index of inout</TD></TR>
<TR><TD>iy</TD><TD>index of output</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>ok</TD><TD>&nbsp;</TD></TR>
</TABLE>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Wed Oct 27 10:04:51 2010.
</address></BODY>
</HTML>
