<HTML>
<HEAD>
<TITLE>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</TITLE>
<META name="HTML-Generator" content="Dymola">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Internal<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests.html#Modelica_LinearSystems2.WorkInProgress.Tests"
>Modelica_LinearSystems2.WorkInProgress.Tests</A>.Internal</H2>
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.DesignDataS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.DesignData" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.DesignData"
>DesignData</A>
</TD><TD>Contains the system matrix A, the input matrix B, the assigned Poles and optionally the ideal feedback matrix</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schurS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schur" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schur"
>schur</A>
</TD><TD>Pole assigment design algorithm for multi input systems</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schurS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.clock" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.clock"
>clock</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schurS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.clock2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.clock2"
>clock2</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schurS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.wrapper_modifyX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.wrapper_modifyX"
>wrapper_modifyX</A>
</TD><TD>Contains a C sub routine of robust pole assignment to modify the eigenvector matrix X according to Kautsky algorithm</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schurS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.modifyX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.modifyX"
>modifyX</A>
</TD><TD>Contains a C sub routine of robust pole assignment to modify the eigenvector matrix X according to Kautsky algorithm</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schurS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.wrapper_xBase" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.wrapper_xBase"
>wrapper_xBase</A>
</TD><TD>Compute the eigenvector bases according to Kautsky algorithm</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schurS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.xBase" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.xBase"
>xBase</A>
</TD><TD>Compute the eigenvector bases according to Kautsky algorithm</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMatFilesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMatFiles" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMatFiles"
>getMatFiles</A>
</TD><TD>Returns a vector of files ending with .mat</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMatFilesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMoFiles" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMoFiles"
>getMoFiles</A>
</TD><TD>Returns a vector of files with *.mo</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.complexMatricesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.complexMatrices" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.complexMatrices"
>complexMatrices</A>
</TD><TD>Some case studies to complex matrices</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getCareMoFilesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getCareMoFiles" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getCareMoFiles"
>getCareMoFiles</A>
</TD><TD>Returns a vector of files with care*.mo</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyComplexMatricesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyComplexMatrices" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyComplexMatrices"
>multiplyComplexMatrices</A>
</TD><TD>Some case studies to complex matrices</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyComplexMatricesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices"
>multiplyRealMatrices</A>
</TD><TD>Some case studies to complex matrices</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyComplexMatricesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices2"
>multiplyRealMatrices2</A>
</TD><TD>Some case studies to complex matrices</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyComplexMatricesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices3" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices3"
>multiplyRealMatrices3</A>
</TD><TD>Some case studies to complex matrices</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyComplexMatricesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices3cCall" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices3cCall"
>multiplyRealMatrices3cCall</A>
</TD><TD>Some case studies to complex matrices</TD></TR>
<TR><TD><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyComplexMatricesS.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.realMatrices" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal.realMatrices"
>realMatrices</A>
</TD><TD>Some case studies to real matrices</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DesignData<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.DesignDataI.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.DesignData" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.DesignData"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.DesignData</H2>
<B>Contains the system matrix A, the input matrix B, the assigned Poles and optionally the ideal feedback matrix</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica_Icons.html#Modelica.Icons.Record"
>Modelica.Icons.Record</A> (Icon for a record).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> DesignData <font color="darkgreen">
  &quot;Contains the system matrix A, the input matrix B, the assigned Poles and optionally the ideal feedback matrix&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">extends </font><A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica_Icons.html#Modelica.Icons.Record"
>Modelica.Icons.Record</A>;
  Real A[:,<font color="red">size</font>(A,1)] <font color="darkgreen">&quot;System matrix&quot;</font>;
  Real B[<font color="red">size</font>(A,1),:] <font color="darkgreen">&quot;Input matrix&quot;</font>;
  <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> assignedPoles[:] <font color="darkgreen">&quot;Assigned poles&quot;</font>;
  Real K[:,:] <font color="darkgreen">&quot;Feedback gain matrix&quot;</font>;

<font color="blue">end </font>DesignData;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE schur<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.schur"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.schur</H2>
<B>Pole assigment design algorithm for multi input systems</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>A[:, :]</TD><TD>[1, 2, 3, 4; 0, 2, 5, 6; 0, ...</TD><TD>&nbsp;</TD></TR>
<TR><TD>Real</TD><TD>alpha</TD><TD>0</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>T[:, :]</TD><TD>&nbsp;</TD></TR>
<TR><TD>Real</TD><TD>Z[:, :]</TD><TD>&nbsp;</TD></TR>
<TR><TD>Real</TD><TD>alphaReal[size(A, 1)]</TD><TD>Real part of eigenvalue=alphaReal+i*alphaImag</TD></TR>
<TR><TD>Real</TD><TD>alphaImag[size(A, 1)]</TD><TD>Imaginary part of eigenvalue=(alphaReal+i*alphaImag</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">encapsulated </font><font color="blue">function</font> schur <font color="darkgreen">
  &quot;Pole assigment design algorithm for multi input systems&quot;</font>

  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">import </font><A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica.html#Modelica"
>Modelica</A>;
  <font color="blue">import </font><A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica_Utilities_Streams.html#Modelica.Utilities.Streams.print"
>Modelica.Utilities.Streams.print</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math_Matrices.html#Modelica_LinearSystems2.Math.Matrices"
>Modelica_LinearSystems2.Math.Matrices</A>;

  <font color="blue">input </font>Real A[:,:]=[1,2,3,4;0,2,5,6;0,0,-2,-1;0,0,0,-3];
  <font color="blue">input </font>Real alpha=0;
  <font color="blue">output </font>Real T[:,:];
  <font color="blue">output </font>Real Z[:,:];
  <font color="blue">output </font>Real alphaReal[<font color="red">size</font>(A, 1)] <font color="darkgreen">
    &quot;Real part of eigenvalue=alphaReal+i*alphaImag&quot;</font>;
  <font color="blue">output </font>Real alphaImag[<font color="red">size</font>(A, 1)] <font color="darkgreen">
    &quot;Imaginary part of eigenvalue=(alphaReal+i*alphaImag&quot;</font>;

<font color="blue">algorithm </font>
  (T,Z,alphaReal,alphaImag) :=<font color="red"> Matrices.rsf2</font>(A);
  <font color="red">Modelica_LinearSystems2.Math.Matrices.printMatrix</font>(T,6,&quot;T1&quot;);
  <font color="red">Modelica_LinearSystems2.Math.Vectors.printVector</font>(alphaReal,6,&quot;ar1&quot;);

<font color="darkgreen">// reorder real Schur form according to alpha</font>
   (T,Z,alphaReal,alphaImag) :=<font color="red"> Matrices.Internal.reorderRSF2</font>(
       T,
       <font color="red">identity</font>(<font color="red">size</font>(A, 1)),
       alphaReal,
       alphaImag,
       alpha);
  <font color="red">Modelica_LinearSystems2.Math.Matrices.printMatrix</font>(T,6,&quot;T2&quot;);
  <font color="red">Modelica_LinearSystems2.Math.Vectors.printVector</font>(alphaReal,6,&quot;ar1&quot;);
<font color="blue">end </font>schur;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE clock<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.clock"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.clock</H2>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>dummy</TD><TD>0</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>runtime_ms</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> clock

<font color="blue">input </font>Real dummy=0;
<font color="blue">output </font>Real runtime_ms;

<font color="blue">external</font> &quot;C&quot; runtime_ms = <font color="red">clock_ms</font>(dummy);

<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>clock;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE clock2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.clock2"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.clock2</H2>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>runtime_ms</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> clock2

<font color="blue">output </font>Real runtime_ms;

<font color="blue">external</font> &quot;C&quot; <font color="red">clock_ms</font>(runtime_ms);

<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>clock2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE wrapper_modifyX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.wrapper_modifyX"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.wrapper_modifyX</H2>
<B>Contains a C sub routine of robust pole assignment to modify the eigenvector matrix X according to Kautsky algorithm</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>X_real[:, size(X_real, 1)]</TD><TD>&nbsp;</TD><TD>Eigenvector matrix, real part</TD></TR>
<TR><TD>Real</TD><TD>X_imag[size(X_real, 1), size(X_real, 2)]</TD><TD>&nbsp;</TD><TD>Eigenvector matrix, imaginary part</TD></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>&nbsp;</TD><TD>Order of X</TD></TR>
<TR><TD>Real</TD><TD>S_real[size(X_real, 1), :]</TD><TD>&nbsp;</TD><TD>Eigenvector bases, real part</TD></TR>
<TR><TD>Real</TD><TD>S_imag[size(S_real, 1), size(S_real, 2)]</TD><TD>&nbsp;</TD><TD>Eigenvector bases, imaginary part</TD></TR>
<TR><TD>Integer</TD><TD>m</TD><TD>&nbsp;</TD><TD>Rank of the system input matrix B; S_real and S_imag must have n*m columns</TD></TR>
<TR><TD>Integer</TD><TD>ncp</TD><TD>&nbsp;</TD><TD>number of complex pairs</TD></TR>
<TR><TD>Integer</TD><TD>steps</TD><TD>&nbsp;</TD><TD>Number of iterations</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>Xm_real[size(X_real, 1), size(X_real, 2)]</TD><TD>&nbsp;</TD></TR>
<TR><TD>Real</TD><TD>Xm_imag[size(X_imag, 1), size(X_imag, 2)]</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> wrapper_modifyX <font color="darkgreen">
  &quot;Contains a C sub routine of robust pole assignment to modify the eigenvector matrix X according to Kautsky algorithm&quot;</font>
  <font color="blue">input </font>Real X_real[:,<font color="red">size</font>(X_real, 1)] <font color="darkgreen">&quot;Eigenvector matrix, real part&quot;</font>;
  <font color="blue">input </font>Real X_imag[<font color="red">size</font>(X_real, 1),<font color="red">size</font>(X_real, 2)] <font color="darkgreen">
    &quot;Eigenvector matrix, imaginary part&quot;</font>;
  <font color="blue">input </font>Integer n <font color="darkgreen">&quot;Order of X&quot;</font>;
  <font color="blue">input </font>Real S_real[<font color="red">size</font>(X_real, 1),:] <font color="darkgreen">&quot;Eigenvector bases, real part&quot;</font>;
  <font color="blue">input </font>Real S_imag[<font color="red">size</font>(S_real, 1),<font color="red">size</font>(S_real, 2)] <font color="darkgreen">
    &quot;Eigenvector bases, imaginary part&quot;</font>;
  <font color="blue">input </font>Integer m <font color="darkgreen">
    &quot;Rank of the system input matrix B; S_real and S_imag must have n*m columns&quot;</font>;
  <font color="blue">input </font>Integer ncp <font color="darkgreen">&quot;number of complex pairs&quot;</font>;
  <font color="blue">input </font>Integer steps <font color="darkgreen">&quot;Number of iterations&quot;</font>;

  <font color="blue">output </font>Real Xm_real[<font color="red">size</font>(X_real, 1),<font color="red">size</font>(X_real, 2)]=X_real;
  <font color="blue">output </font>Real Xm_imag[<font color="red">size</font>(X_imag, 1),<font color="red">size</font>(X_imag, 2)]=X_imag;

<font color="blue">external</font>&quot;FORTRAN 77&quot; <font color="red">c_inter_modifyX</font>(
    Xm_real,
    Xm_imag,
    n,
    S_real,
    S_imag,
    m,
    ncp,
    steps);
<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>wrapper_modifyX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE modifyX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.modifyX"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.modifyX</H2>
<B>Contains a C sub routine of robust pole assignment to modify the eigenvector matrix X according to Kautsky algorithm</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A></TD><TD>X[:, size(X, 1)]</TD><TD>&nbsp;</TD><TD>Complex eigenvector matrix</TD></TR>
<TR><TD><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A></TD><TD>S[size(X, 1), :]</TD><TD>&nbsp;</TD><TD>Complex eigenvector matrix</TD></TR>
<TR><TD>Integer</TD><TD>m</TD><TD>&nbsp;</TD><TD>Rank of the system input matrix B; S_real and S_imag must have n*m columns</TD></TR>
<TR><TD>Integer</TD><TD>ncp</TD><TD>&nbsp;</TD><TD>number of complex pairs</TD></TR>
<TR><TD>Integer</TD><TD>steps</TD><TD>&nbsp;</TD><TD>Number of iterations</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A></TD><TD>Xm[size(X, 1), size(X, 2)]</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> modifyX <font color="darkgreen">
  &quot;Contains a C sub routine of robust pole assignment to modify the eigenvector matrix X according to Kautsky algorithm&quot;</font>

  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">import </font>Re = <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex.real"
>Modelica_LinearSystems2.Math.Complex.real</A>;
  <font color="blue">import </font>Im = <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex.imag"
>Modelica_LinearSystems2.Math.Complex.imag</A>;

  <font color="blue">input </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> X[:,<font color="red">size</font>(X,1)] <font color="darkgreen">&quot;Complex eigenvector matrix&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> S[<font color="red">size</font>(X,1),:] <font color="darkgreen">&quot;Complex eigenvector matrix&quot;</font>;
  <font color="blue">input </font>Integer m <font color="darkgreen">
    &quot;Rank of the system input matrix B; S_real and S_imag must have n*m columns&quot;</font>;
  <font color="blue">input </font>Integer ncp <font color="darkgreen">&quot;number of complex pairs&quot;</font>;
  <font color="blue">input </font>Integer steps <font color="darkgreen">&quot;Number of iterations&quot;</font>;

  <font color="blue">output </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> Xm[<font color="red">size</font>(X, 1),<font color="red">size</font>(X, 2)];

<font color="blue">protected </font>
   <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> j=<font color="red">Modelica_LinearSystems2.Math.Complex.j</font>();
   Integer n=<font color="red">size</font>(X,1);
   Real X_real[n,n]=<font color="red">Re</font>(X) <font color="darkgreen">&quot;Eigenvector matrix, real part&quot;</font>;
   Real X_imag[n,n]=<font color="red">Im</font>(X) <font color="darkgreen">&quot;Eigenvector matrix, imaginary part&quot;</font>;
   Real S_real[n,m*n]=<font color="red">Re</font>(S) <font color="darkgreen">&quot;Eigenvector bases, real part&quot;</font>;
   Real S_imag[n,m*n]=<font color="red">Im</font>(S) <font color="darkgreen">&quot;Eigenvector bases, imaginary part&quot;</font>;

  Real Xm_real[n,n];
  Real Xm_imag[n,n];

  Integer i;
  Integer ii;

<font color="blue">algorithm </font>
  (Xm_real, Xm_imag) :=<font color="red">Modelica_LinearSystems2.WorkInProgress.StateSpace.Internal.wrapper_modifyX_old</font>(
                                                                                   X_real, X_imag, n, S_real, S_imag, m, ncp, steps);
  <font color="blue">for </font>i<font color="blue"> in </font>1:n<font color="blue"> loop</font>
    <font color="blue">for </font>ii<font color="blue"> in </font>1:n<font color="blue"> loop</font>
      Xm[i,ii] :=<font color="red"> Complex</font>(Xm_real[i,ii],Xm_imag[i,ii]);
    <font color="blue">end for</font>;
  <font color="blue">end for</font>;
<font color="blue">end </font>modifyX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE wrapper_xBase<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.wrapper_xBase"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.wrapper_xBase</H2>
<B>Compute the eigenvector bases according to Kautsky algorithm</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>A[:, size(A, 1)]</TD><TD>&nbsp;</TD><TD>Real square system matrix</TD></TR>
<TR><TD>Real</TD><TD>B[size(A, 1), :]</TD><TD>&nbsp;</TD><TD>Real input matrix</TD></TR>
<TR><TD>Real</TD><TD>gamma_real[size(A, 1)]</TD><TD>&nbsp;</TD><TD>Eigenvalue vector, real part</TD></TR>
<TR><TD>Real</TD><TD>gamma_imag[size(A, 1)]</TD><TD>&nbsp;</TD><TD>Eigenvalue vector, imaginary part</TD></TR>
<TR><TD>Integer</TD><TD>ncp</TD><TD>&nbsp;</TD><TD>Number of complex pairs of eigenvalues</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>U0[size(A, 1), size(B, 2)]</TD><TD>U0</TD></TR>
<TR><TD>Real</TD><TD>Z[size(B, 2), size(B, 2)]</TD><TD>Z</TD></TR>
<TR><TD>Real</TD><TD>S_real[size(A, 1), size(B, 2)*(size(A, 1) - ncp)]</TD><TD>Eigenvector bases, real part</TD></TR>
<TR><TD>Real</TD><TD>S_imag[size(A, 1), size(B, 2)*(size(A, 1) - ncp)]</TD><TD>Eigenvector bases, imaginary part</TD></TR>
<TR><TD>Integer</TD><TD>rankB</TD><TD>Rank of matrix B</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> wrapper_xBase <font color="darkgreen">
  &quot;Compute the eigenvector bases according to Kautsky algorithm&quot;</font>

  <font color="blue">input </font>Real A[:,<font color="red">size</font>(A, 1)] <font color="darkgreen">&quot;Real square system matrix&quot;</font>;
  <font color="blue">input </font>Real B[<font color="red">size</font>(A,1),:] <font color="darkgreen">&quot;Real input matrix&quot;</font>;
  <font color="blue">input </font>Real gamma_real[<font color="red">size</font>(A,1)] <font color="darkgreen">&quot;Eigenvalue vector, real part&quot;</font>;
  <font color="blue">input </font>Real gamma_imag[<font color="red">size</font>(A,1)] <font color="darkgreen">&quot;Eigenvalue vector, imaginary part&quot;</font>;
  <font color="blue">input </font>Integer ncp <font color="darkgreen">&quot;Number of complex pairs of eigenvalues&quot;</font>;

  <font color="blue">output </font>Real U0[<font color="red">size</font>(A,1),<font color="red">size</font>(B,2)] <font color="darkgreen">&quot;U0&quot;</font>;
  <font color="blue">output </font>Real Z[<font color="red">size</font>(B,2),<font color="red">size</font>(B,2)] <font color="darkgreen">&quot;Z&quot;</font>;
  <font color="blue">output </font>Real S_real[<font color="red">size</font>(A,1),<font color="red">size</font>(B,2)*(<font color="red">size</font>(A,1)-ncp)] <font color="darkgreen">
    &quot;Eigenvector bases, real part&quot;</font>;
  <font color="blue">output </font>Real S_imag[<font color="red">size</font>(A,1),<font color="red">size</font>(B,2)*(<font color="red">size</font>(A,1)-ncp)] <font color="darkgreen">
    &quot;Eigenvector bases, imaginary part&quot;</font>;
  <font color="blue">output </font>Integer rankB <font color="darkgreen">&quot;Rank of matrix B&quot;</font>;

<font color="blue">protected </font>
  Integer n=<font color="red">size</font>(A,1);
  Integer m=<font color="red">size</font>(B,2);

<font color="blue">external</font>&quot;FORTRAN 77&quot; <font color="red">c_inter_xBase</font>(A, B, n, m, gamma_real, gamma_imag, ncp, U0, Z, S_real, S_imag, rankB);
<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>wrapper_xBase;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE xBase<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.xBase"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.xBase</H2>
<B>Compute the eigenvector bases according to Kautsky algorithm</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>A[:, size(A, 1)]</TD><TD>&nbsp;</TD><TD>Real square system matrix</TD></TR>
<TR><TD>Real</TD><TD>B[size(A, 1), :]</TD><TD>&nbsp;</TD><TD>Real input matrix</TD></TR>
<TR><TD><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A></TD><TD>gamma[size(A, 1)]</TD><TD>&nbsp;</TD><TD>Assigned complex eigenvalues</TD></TR>
<TR><TD>Integer</TD><TD>ncp</TD><TD>&nbsp;</TD><TD>Number of complex pairs of eigenvalues</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>U0[size(A, 1), size(B, 2)]</TD><TD>U0 and Z are the decompositions of B</TD></TR>
<TR><TD>Real</TD><TD>Z[size(B, 2), size(B, 2)]</TD><TD>Z and U0 are the decompositions of B</TD></TR>
<TR><TD><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A></TD><TD>S[size(A, 1), (size(A, 1) - ncp)*size(B, 2)]</TD><TD>Eigenvector bases</TD></TR>
<TR><TD>Integer</TD><TD>rankB</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> xBase <font color="darkgreen">
  &quot;Compute the eigenvector bases according to Kautsky algorithm&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">import </font>Re = <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex.real"
>Modelica_LinearSystems2.Math.Complex.real</A>;
  <font color="blue">import </font>Im = <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex.imag"
>Modelica_LinearSystems2.Math.Complex.imag</A>;

  <font color="blue">input </font>Real A[:,<font color="red">size</font>(A,1)] <font color="darkgreen">&quot;Real square system matrix&quot;</font>;
  <font color="blue">input </font>Real B[<font color="red">size</font>(A,1),:] <font color="darkgreen">&quot;Real input matrix&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> gamma[<font color="red">size</font>(A,1)] <font color="darkgreen">&quot;Assigned complex eigenvalues&quot;</font>;
  <font color="blue">input </font>Integer ncp <font color="darkgreen">&quot;Number of complex pairs of eigenvalues&quot;</font>;

  <font color="blue">output </font>Real U0[<font color="red">size</font>(A, 1),<font color="red">size</font>(B, 2)] <font color="darkgreen">&quot;U0 and Z are the decompositions of B&quot;</font>;
  <font color="blue">output </font>Real Z[<font color="red">size</font>(B,2),<font color="red">size</font>(B,2)] <font color="darkgreen">&quot;Z and U0 are the decompositions of B&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> S[<font color="red">size</font>(A,1),(<font color="red">size</font>(A,1)-ncp)*<font color="red">size</font>(B,2)] <font color="darkgreen">&quot;Eigenvector bases&quot;</font>;
  <font color="blue">output </font>Integer rankB;

<font color="blue">protected </font>
   <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> j=<font color="red">Modelica_LinearSystems2.Math.Complex.j</font>();
   Integer n=<font color="red">size</font>(A,1);
   Integer m=<font color="red">size</font>(B,2);

   Real gamma_real[n]=<font color="red">Re</font>(gamma) <font color="darkgreen">&quot;Eigenvalue vector, real part&quot;</font>;
   Real gamma_imag[n]=<font color="red">Im</font>(gamma) <font color="darkgreen">&quot;Eigenvalue vector, imaginary part&quot;</font>;
   Real S_real[n,m*(n-ncp)] <font color="darkgreen">&quot;Eigenvector bases, real part&quot;</font>;
   Real S_imag[n,m*(n-ncp)] <font color="darkgreen">&quot;Eigenvector bases, imaginary part&quot;</font>;
  Integer i;
  Integer ii;

<font color="blue">algorithm </font>
  (U0, Z, S_real, S_imag, rankB) :=<font color="red">Modelica_LinearSystems2.WorkInProgress.StateSpace.Internal.wrapper_xBase</font>(
                                                                                             A, B, gamma_real, gamma_imag, ncp);
  <font color="red">assert</font>(m==rankB,&quot;Input matrix B must have full column rank&quot;);
  <font color="blue">for </font>i<font color="blue"> in </font>1:n<font color="blue"> loop</font>
    <font color="blue">for </font>ii<font color="blue"> in </font>1:(n-ncp)*m<font color="blue"> loop</font>
      S[i,ii] :=<font color="red"> Complex</font>(S_real[i,ii],S_imag[i,ii]);
    <font color="blue">end for</font>;
  <font color="blue">end for</font>;
<font color="blue">end </font>xBase;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE getMatFiles<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMatFilesI.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMatFiles" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMatFiles"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.getMatFiles</H2>
<B>Returns a vector of files ending with .mat</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>specifier</TD><TD>&quot;data&quot;</TD><TD>&nbsp;</TD></TR>
<TR><TD>String</TD><TD>directoryName</TD><TD>classDirectory() + &quot;../&quot; + s...</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>matFiles[:]</TD><TD>&nbsp;</TD></TR>
<TR><TD>Integer</TD><TD>nrMat</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> getMatFiles <font color="darkgreen">&quot;Returns a vector of files ending with .mat&quot;</font>
  <font color="blue">extends </font><A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String specifier=&quot;data&quot;;
  <font color="blue">input </font>String directoryName =<font color="red"> classDirectory</font>()+ &quot;../&quot; + specifier;
  <font color="blue">output </font>String matFiles[:];
  <font color="blue">output </font>Integer nrMat;
<font color="blue">protected </font>
  Integer nEntries=<font color="red">Modelica.Utilities.Internal.FileSystem.getNumberOfFiles</font>(directoryName);
  String files[nEntries];
  String files2[nEntries];
  Integer nrDir=nEntries;
  Integer i;
<font color="blue">algorithm </font>
  files :=<font color="red"> Modelica.Utilities.Internal.FileSystem.readDirectory</font>(directoryName, nEntries);
  <font color="darkgreen">// count mat-files</font>
  nrMat := 0;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nrDir<font color="blue"> loop</font>
    <font color="blue">if </font><font color="red">Modelica.Utilities.Strings.find</font>(files[i], &quot;.mat&quot;, 1, false)&lt;&gt;0<font color="blue"> then</font>
      nrMat := nrMat + 1;
      files2[nrMat] := files[i];
    <font color="blue">end if</font>;
  <font color="blue">end for</font>;
  matFiles := files2[1:nrMat];

<font color="blue">end </font>getMatFiles;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE getMoFiles<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMatFilesI.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMoFiles" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getMoFiles"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.getMoFiles</H2>
<B>Returns a vector of files with *.mo</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>specifier</TD><TD>&quot;data&quot;</TD><TD>&nbsp;</TD></TR>
<TR><TD>String</TD><TD>directoryName</TD><TD>classDirectory() + &quot;../&quot; + s...</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>moFiles[:]</TD><TD>&nbsp;</TD></TR>
<TR><TD>Integer</TD><TD>nrMat</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> getMoFiles <font color="darkgreen">&quot;Returns a vector of files with *.mo&quot;</font>
  <font color="blue">extends </font><A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String specifier=&quot;data&quot;;
  <font color="blue">input </font>String directoryName =<font color="red"> classDirectory</font>()+ &quot;../&quot; + specifier;
  <font color="blue">output </font>String moFiles[:];
  <font color="blue">output </font>Integer nrMat;
<font color="blue">protected </font>
  Integer nEntries=<font color="red">Modelica.Utilities.Internal.FileSystem.getNumberOfFiles</font>(directoryName);
  String files[nEntries];
  String files2[nEntries];
  Integer nrDir=nEntries;
  Integer i;
<font color="blue">algorithm </font>
  files :=<font color="red"> Modelica.Utilities.Internal.FileSystem.readDirectory</font>(directoryName, nEntries);
  <font color="darkgreen">// count mo-files</font>
  nrMat := 0;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nrDir<font color="blue"> loop</font>
    <font color="blue">if </font><font color="red">Modelica.Utilities.Strings.find</font>(files[i], specifier, 1, false)&lt;&gt;0<font color="blue"> and </font><font color="red">Modelica.Utilities.Strings.find</font>(files[i], &quot;.mo&quot;, 1, false)&lt;&gt;0<font color="blue"> then</font>
      nrMat := nrMat + 1;
      files2[nrMat] := files[i];
    <font color="blue">end if</font>;
  <font color="blue">end for</font>;
  moFiles := files2[1:nrMat];

<font color="blue">end </font>getMoFiles;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE complexMatrices<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.complexMatrices"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.complexMatrices</H2>
<B>Some case studies to complex matrices</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>200</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>ok</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> complexMatrices <font color="darkgreen">&quot;Some case studies to complex matrices&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;

  <font color="blue">input </font>Integer n=200;
  <font color="blue">output </font>Boolean ok;
<font color="blue">protected </font>
  <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> C1[n,n]=<font color="red">fill</font>(<font color="red">Complex</font>(1,1),n,n);
  <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> C2[n,n];

<font color="blue">algorithm </font>
  C2 := C1;
  ok := true;
<font color="blue">end </font>complexMatrices;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE getCareMoFiles<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getCareMoFilesI.png" ALT="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getCareMoFiles" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.getCareMoFiles"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.getCareMoFiles</H2>
<B>Returns a vector of files with care*.mo</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>directoryName</TD><TD>classDirectory() + &quot;../care&quot;</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>matFiles[:]</TD><TD>&nbsp;</TD></TR>
<TR><TD>Integer</TD><TD>nrMat</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> getCareMoFiles <font color="darkgreen">&quot;Returns a vector of files with care*.mo&quot;</font>
  <font color="blue">extends </font><A HREF="file:///C:/Programme/Dymola 7.4 Alpha/Modelica/Library/Modelica 3.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String directoryName =<font color="red"> classDirectory</font>()+ &quot;../care&quot;;
  <font color="blue">output </font>String matFiles[:];
  <font color="blue">output </font>Integer nrMat;
<font color="blue">protected </font>
  Integer nEntries=<font color="red">Modelica.Utilities.Internal.FileSystem.getNumberOfFiles</font>(directoryName);
  String files[nEntries];
  String files2[nEntries];
  Integer nrDir=nEntries;
  Integer i;
<font color="blue">algorithm </font>
  files :=<font color="red"> Modelica.Utilities.Internal.FileSystem.readDirectory</font>(directoryName, nEntries);
  <font color="darkgreen">// count mat-files</font>
  nrMat := 0;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nrDir<font color="blue"> loop</font>
    <font color="blue">if </font><font color="red">Modelica.Utilities.Strings.find</font>(files[i], &quot;care&quot;, 1, false)&lt;&gt;0<font color="blue"> and </font><font color="red">Modelica.Utilities.Strings.find</font>(files[i], &quot;.mo&quot;, 1, false)&lt;&gt;0<font color="blue"> then</font>
      nrMat := nrMat + 1;
      files2[nrMat] := files[i];
    <font color="blue">end if</font>;
  <font color="blue">end for</font>;
  matFiles := files2[1:nrMat];

<font color="blue">end </font>getCareMoFiles;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE multiplyComplexMatrices<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyComplexMatrices"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.multiplyComplexMatrices</H2>
<B>Some case studies to complex matrices</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>30</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>ok</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> multiplyComplexMatrices <font color="darkgreen">
  &quot;Some case studies to complex matrices&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;

  <font color="blue">input </font>Integer n=30;
  <font color="blue">output </font>Boolean ok;
<font color="blue">protected </font>
  <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> C1[n,n]=<font color="red">fill</font>(<font color="red">Complex</font>(1,1),n,n);
  <A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Complex</A> C2[n,n];
  Real t1;
  Real t2;

<font color="blue">algorithm </font>
<font color="darkgreen">//  C2 := C1*C1;</font>
  C2 :=<font color="red"> Complex.Matrices.matMatMul</font>(C1,C1);
  ok := true;
<font color="blue">end </font>multiplyComplexMatrices;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE multiplyRealMatrices<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.multiplyRealMatrices</H2>
<B>Some case studies to complex matrices</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>30</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>ok</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> multiplyRealMatrices <font color="darkgreen">&quot;Some case studies to complex matrices&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;

  <font color="blue">input </font>Integer n=30;
  <font color="blue">output </font>Boolean ok;
<font color="blue">protected </font>
  Real C1[n,n]=<font color="red">fill</font>(1,n,n);
  Real C2[n,n];
  Real t1;
  Real t2;

<font color="blue">algorithm </font>
  C2 := C1*C1;
<font color="darkgreen">//  Modelica_LinearSystems2.Math.Matrices.printMatrix(C2,6,&quot;C2&quot;);</font>
  ok := true;
<font color="blue">end </font>multiplyRealMatrices;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE multiplyRealMatrices2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices2"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.multiplyRealMatrices2</H2>
<B>Some case studies to complex matrices</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>50</TD><TD>&nbsp;</TD></TR>
<TR><TD>Integer</TD><TD>nr</TD><TD>50</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>ok</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> multiplyRealMatrices2 <font color="darkgreen">
  &quot;Some case studies to complex matrices&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math_Matrices.html#Modelica_LinearSystems2.Math.Matrices"
>Modelica_LinearSystems2.Math.Matrices</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;

  <font color="blue">input </font>Integer n=50;
  <font color="blue">input </font>Integer nr=50;
  <font color="blue">output </font>Boolean ok;
<font color="blue">protected </font>
  Real C1[n,n]=<font color="red">fill</font>(1,n,n);
  Real C2[n,n]=C1;

<font color="blue">algorithm </font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nr<font color="blue"> loop</font>
   C2 :=<font color="red"> Modelica_LinearSystems2.Math.Matrices.LAPACK.dgemm</font>(C1,C2,C1);
  <font color="blue">end for</font>;

<font color="darkgreen">//  Modelica_LinearSystems2.Math.Matrices.printMatrix(C2,6,&quot;C2&quot;);</font>
  ok := true;
<font color="blue">end </font>multiplyRealMatrices2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE multiplyRealMatrices3<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices3"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.multiplyRealMatrices3</H2>
<B>Some case studies to complex matrices</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>50</TD><TD>&nbsp;</TD></TR>
<TR><TD>Integer</TD><TD>nr</TD><TD>50</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>ok</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> multiplyRealMatrices3 <font color="darkgreen">
  &quot;Some case studies to complex matrices&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math_Matrices.html#Modelica_LinearSystems2.Math.Matrices"
>Modelica_LinearSystems2.Math.Matrices</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;

  <font color="blue">input </font>Integer n=50;
  <font color="blue">input </font>Integer nr=50;
  <font color="blue">output </font>Boolean ok;

<font color="blue">protected </font>
  Real C1[n,n]=<font color="red">fill</font>(1,n,n);
  Real C2[n,n];

<font color="blue">algorithm </font>
  C2 :=<font color="red"> Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices3cCall</font>(
                                n,nr,C1);
<font color="darkgreen">//  Modelica_LinearSystems2.Math.Matrices.printMatrix(C2,6,&quot;C2&quot;);</font>
  ok := true;

<font color="blue">end </font>multiplyRealMatrices3;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE multiplyRealMatrices3cCall<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.multiplyRealMatrices3cCall"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.multiplyRealMatrices3cCall</H2>
<B>Some case studies to complex matrices</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>50</TD><TD>&nbsp;</TD></TR>
<TR><TD>Integer</TD><TD>nr</TD><TD>20</TD><TD>&nbsp;</TD></TR>
<TR><TD>Real</TD><TD>C1[n, n]</TD><TD>fill(1, n, n)</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>C2[n, n]</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> multiplyRealMatrices3cCall <font color="darkgreen">
  &quot;Some case studies to complex matrices&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math.html#Modelica_LinearSystems2.Math.Complex"
>Modelica_LinearSystems2.Math.Complex</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2_Math_Matrices.html#Modelica_LinearSystems2.Math.Matrices"
>Modelica_LinearSystems2.Math.Matrices</A>;
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;

  <font color="blue">input </font>Integer n=50;
  <font color="blue">input </font>Integer nr=20;
  <font color="blue">input </font>Real C1[n,n]=<font color="red">fill</font>(1,n,n);
  <font color="blue">output </font>Real C2[n,n]=C1;

<font color="blue">external</font>&quot;FORTRAN 77&quot; <font color="red">c_dgemm</font>(C1, C2, n, nr);
<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>multiplyRealMatrices3cCall;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE realMatrices<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_LinearSystems2.WorkInProgress.Tests.Internal.realMatrices"></A><A HREF="Modelica_LinearSystems2_WorkInProgress_Tests_Internal.html#Modelica_LinearSystems2.WorkInProgress.Tests.Internal"
>Modelica_LinearSystems2.WorkInProgress.Tests.Internal</A>.realMatrices</H2>
<B>Some case studies to real matrices</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>200</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>ok</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> realMatrices <font color="darkgreen">&quot;Some case studies to real matrices&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_LinearSystems2.html#Modelica_LinearSystems2"
>Modelica_LinearSystems2</A>;

  <font color="blue">input </font>Integer n=200;
  <font color="blue">output </font>Boolean ok;
<font color="blue">protected </font>
  Real C1[n,n]=<font color="red">fill</font>(1,n,n);
  Real C2[n,n];

<font color="blue">algorithm </font>
  C2 := C1;
  ok := true;
<font color="blue">end </font>realMatrices;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Fri Jan 15 12:29:06 2010.
</address></BODY>
</HTML>
